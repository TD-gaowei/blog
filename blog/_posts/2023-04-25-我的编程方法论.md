---
title: 我的编程方法论
date: 2023-04-25
tags:
  - 方法论
author: qinghuanI
location: wuhan
---

## 成长目标

锻炼解决工程问题的能力，将学到的技术转化为工程成果

卓越的解决工程问题能力离不开扎实的理论知识和丰富的项目实践，也离不开优秀的工具

## 工具

工欲善其事，必先利其器

- [WebStorm](https://www.jetbrains.com/webstorm/) - WebStorm 是一个适用于 JavaScript 和相关技术的集成开发环境
- [Postman](https://www.postman.com/) - 用于接口调试
- [xmind](https://xmind.cn/) - 用来制作思维导图
- [PlantUML](https://plantuml.com/zh/) - 通过纯文本的方式来生成 UML 图
- [Confluence](https://www.atlassian.com/zh/software/confluence) - 一个专业的企业知识管理与协同软件，也可以用于构建企业 wiki

## 编码指导原则

1. 前端永远只做两件事，get 和 set 数据
2. 要么从数据输入端解决问题，要么从数据输出端解决问题
3. 没有 debugger 不出的 bug，只有没有耐心 debugger 的 bug
4. 状态复杂度只会转移而不会消失，在合适的位置处理状态
5. 做到 don't repeat yourself 是写出好代码的重要一步
6. 一个成熟的系统既有输出，也有输入
7. 一个方法（函数）/变量只做一件事
8. 中心化的状态可以与多个独立系统交互

## Runtime

Runtime 是指程序在运行时的状态和行为。在计算机编程中，Runtime 是指程序在实际运行中所表现出来的一种状态。它包括了程序的执行环境和执行状态，以及程序在运行时所产生的各种数据和结果。
JS 的 runtime 如下：

- 浏览器
- node.js
- 其他小众运行时，比如 Deno/Bun

## JS 使用总结

### 如何理解状态变化？

JS 是一种事件驱动的语言，绝大部分业务场景下状态的变化由于**事件**触发，那么数据输入端就在事件处理函数中

前端只有 `input` 和 `textarea` 获取用户输入内容

### 如何使用错误处理？

只要有 I/O 的地方，必须有错误处理。比如各类请求/文件读写/存储读写等等

同步代码

```js
try {
  // I/O handler
} catch (e) {
  // record handler error
}
```

异步代码

```js
Promise.reject("error").catch((e) => {
  // record handler error
});
```

### 什么时候用函数，什么时候用类？

函数在 JS 中是一等公民。所以对于单一的业务逻辑，使用函数可以满足，如果有很多业务逻辑并且这些业务逻辑做相同的事，就可以封装成类

### Async/Await 与 Promise 使用

使用 `Async/Await` 会阻塞后面的代码。使用 `Promise.then()` 不会阻塞后面的代码。所以推荐在代码中首先使用 `Promise.then()`

串行请求

```js
async function fetchAll() {
  await request1();
  await request2();
}

fetchAll();
```

并行请求

```js
function fetchAll() {
  request1();
  request2();
}

fetchAll();
```

### 如何快速熟悉业务代码？

把代码跑起来，走一遍业务流程，关键地方使用断点，搞清楚每一个方法（函数）的作用

## 前端工程化

前端工程化，就是指对前端进行一些流程的标准化，让开发变得更有效率，且更好地做产品交付

## 组件思维

组件是状态和逻辑的封装。在 React 组件中，`useState`/`useRef`/`useMemo`/`context`等等 API 声明的变量是组件内状态，`Props` 代表传入组件的外部状态

在组件中，如果方法中涉及组件状态，那么方法需要定义在组件内，否则定义在组件外。由此可以抽象出若方法中涉及的状态不属于当前的系统，那么最好在系统外定义该方法

## 框架/库使用指导

严格遵守框架/库的使用规范，拒绝反模式是写出优雅代码的基本准则

彻底理解框架/库的 API 使用原则是写出正确代码的关键
