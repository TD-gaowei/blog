---
title: iframe 之间的通信
date: 2020-08-02
tags:
  - Web Api
author: qinghuanI
location: wuhan
---

什么是浏览器同源策略？

同源策略（Same origin policy）是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说 Web 是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。

它的核心就在于它认为自任何站点装载的信赖内容是不安全的。当被浏览器半信半疑的脚本运行在沙箱时，它们应该只被允许访问来自同一站点的资源，而不是那些来自其它站点可能怀有恶意的资源。

所谓同源是指：域名、协议、端口相同。

## 同域

如果两个 iframe 是同源的，那么通信的方式比较多

### 全局对象

### 发布订阅

### 父 iframe

## 跨域

如果两个 iframe 不同源，通信的方式如下

### postMessage/onMessage

### MessageChannel
